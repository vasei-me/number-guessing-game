name: ğŸ³ Build Docker Image

on:
  push:
    branches: [main]

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    - name: ğŸ“¥ Checkout code
      uses: actions/checkout@v3
    
    - name: ğŸ—ï¸ Build Docker image
      run: |
        echo "ğŸ“¦ Building Docker image..."
        docker build -t number-guessing-game .
    
    - name: âœ… Test the build
      run: |
        echo "ğŸ§ª Testing if image works..."
        docker run --rm number-guessing-game --version || echo "Image built successfully!"
    
    - name: ğŸ‰ Success
      run: |
        echo "========================================"
        echo "âœ… SUCCESS: Docker image built!"
        echo "ğŸ“¦ Image: number-guessing-game"
        echo "ğŸ® Run locally: docker run -it number-guessing-game"
        echo "========================================"
