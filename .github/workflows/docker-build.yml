name: ðŸ³ Build Docker Image

on:
  push:
    branches: [main]

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    - name: ðŸ“¥ Checkout code
      uses: actions/checkout@v3
    
    - name: ðŸ—ï¸ Build Docker image
      run: |
        echo "Building Docker image..."
        docker build -t number-guessing-game .
        echo "âœ… Docker build completed!"
    
    - name: âœ… Verify image
      run: |
        echo "Verifying the built image..."
        docker images number-guessing-game
        echo "âœ… Image verification complete!"
    
    - name: ðŸ“Š Success Report
      run: |
        echo "## ðŸŽ‰ Build Successful!" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        echo "### Docker Image Details:" >> $GITHUB_STEP_SUMMARY
        echo "- **Image Name:** number-guessing-game" >> $GITHUB_STEP_SUMMARY
        echo "- **Status:** âœ… Ready to use" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        echo "### Run Locally:" >> $GITHUB_STEP_SUMMARY
        echo "\`\`\`bash" >> $GITHUB_STEP_SUMMARY
        echo "docker build -t my-game ." >> $GITHUB_STEP_SUMMARY
        echo "docker run -it my-game" >> $GITHUB_STEP_SUMMARY
        echo "\`\`\`" >> $GITHUB_STEP_SUMMARY
