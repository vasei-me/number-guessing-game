# .github/workflows/game.yml
name: Game CI

on:
  push:
    branches: [main]

jobs:
  build-game:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ“¥ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ú©Ø¯
        uses: actions/checkout@v3

      - name: ğŸ³ Ø³Ø§Ø®Øª Docker Image
        run: |
          docker build -t my-game .
          docker tag my-game amirghadyani/number-game:latest
          docker tag my-game amirghadyani/number-game:${{ github.sha }}

      - name: ğŸ” Ù„Ø§Ú¯ÛŒÙ† Ø¨Ù‡ Docker Hub
        run: echo "${{ secrets.DOCKER_PASSWORD }}" | docker login -u "amirghadyani" --password-stdin

      - name: â¬†ï¸ Ø¢Ù¾Ù„ÙˆØ¯ Ø¨Ù‡ Docker Hub
        run: |
          docker push amirghadyani/number-game:latest
          docker push amirghadyani/number-game:${{ github.sha }}

      - name: ğŸ“¢ Ø§Ø·Ù„Ø§Ø¹â€ŒØ±Ø³Ø§Ù†ÛŒ
        run: |
          echo "âœ… Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø³Ø§Ø®ØªÙ‡ Ùˆ Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯!"
          echo "ğŸ® Ø¨Ø±Ø§ÛŒ Ø§Ø¬Ø±Ø§: docker run -it amirghadyani/number-game"
